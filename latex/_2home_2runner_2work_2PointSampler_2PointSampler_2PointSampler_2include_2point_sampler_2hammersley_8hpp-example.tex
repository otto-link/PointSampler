\doxysection{/home/runner/work/\+Point\+Sampler/\+Point\+Sampler/\+Point\+Sampler/include/point\+\_\+sampler/hammersley.\+hpp}
\hypertarget{_2home_2runner_2work_2PointSampler_2PointSampler_2PointSampler_2include_2point_sampler_2hammersley_8hpp-example}{}\label{_2home_2runner_2work_2PointSampler_2PointSampler_2PointSampler_2include_2point_sampler_2hammersley_8hpp-example}Generates a set of quasi-\/random points using the Hammersley sequence in N dimensions.

Generates a set of quasi-\/random points using the Hammersley sequence in N dimensions.\+This function generates {\ttfamily count} points in the unit hypercube using the Hammersley sequence, then rescales them to fit within the specified axis-\/aligned bounding box. An optional {\ttfamily seed} can be used as a starting index offset (i.\+e., a shift) to decorrelate multiple calls or introduce variation.


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & Scalar type (e.\+g., float or double) \\
\hline
{\em N} & Dimensionality of the space \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em count} & Number of points to generate \\
\hline
{\em axis\+\_\+ranges} & Axis-\/aligned bounding box for each dimension, as min/max pairs \\
\hline
{\em seed} & Optional seed that offsets the sequence start index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::vector$<$\+Point$<$\+T, N$>$$>$ The generated Hammersley points rescaled to the bounding box
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ \textcolor{keyword}{auto}\ points\ =\ ps::hammersley<float,\ 3>(}
\DoxyCodeLine{\ \ \ \ 512,}
\DoxyCodeLine{\ \ \ \ \{\{\{-\/1,\ 1\},\ \{-\/1,\ 1\},\ \{0,\ 1\}\}\},\ 7}
\DoxyCodeLine{);}

\end{DoxyCode}



\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{/*\ Copyright\ (c)\ 2025\ Otto\ Link.\ Distributed\ under\ the\ terms\ of\ the\ GNU\ General}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ Public\ License.\ The\ full\ license\ is\ in\ the\ file\ LICENSE,\ distributed\ with}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ this\ software.\ */}}
\DoxyCodeLine{\textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{point_8hpp}{point\_sampler/point.hpp}}"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{range_8hpp}{point\_sampler/range.hpp}}"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceps}{ps}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{std::vector<Point<T,\ N>>\ \mbox{\hyperlink{namespaceps_ae21a8c51533330ead4ebe76eed3e72b3}{hammersley\_sequence}}(\textcolor{keywordtype}{size\_t}\ count,\ \textcolor{keywordtype}{size\_t}\ shift)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \textcolor{keyword}{auto}\ van\_der\_corput\ =\ [](\textcolor{keywordtype}{size\_t}\ n,\ \textcolor{keywordtype}{size\_t}\ base)\ -\/>\ T}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ T\ q\ =\ 0;}
\DoxyCodeLine{\ \ \ \ T\ bk\ =\ 1.0\ /\ base;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (n\ >\ 0)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ q\ +=\ T(n\ \%\ base)\ *\ bk;}
\DoxyCodeLine{\ \ \ \ \ \ n\ /=\ base;}
\DoxyCodeLine{\ \ \ \ \ \ bk\ /=\ base;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{\ \ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ primes[15]\ =\ \{2,\ 3,\ 5,\ 7,\ 11,\ 13,\ 17,\ 19,\ 23,\ 29,\ 31,\ 37,\ 41,\ 43,\ 47\};}
\DoxyCodeLine{\ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ n\_primes\ =\ 15;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ std::vector<Point<T,\ N>>\ points(count);}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ count;\ ++i)}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ points[i][0]\ =\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(i)\ /\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(count);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ d\ =\ 1;\ d\ <\ N;\ ++d)}
\DoxyCodeLine{\ \ \ \ \ \ points[i][d]\ =\ van\_der\_corput(i\ +\ shift,\ primes[std::min(n\_primes\ -\/\ 1,\ d\ -\/\ 1)]);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ points;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{std::vector<Point<T,\ N>>\ \mbox{\hyperlink{namespaceps_aad0cc7bc81f7cac9f0be26177b9986a6}{hammersley}}(\textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ count,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::array<std::pair<T,\ T>,\ N>\ \&axis\_ranges,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::optional<unsigned\ int>\ seed\ =\ std::nullopt)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ seed-\/like\ effect...}}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{size\_t}\ shift\ =\ seed\ ?\ *seed\ :\ 0;}
\DoxyCodeLine{\ \ \textcolor{keyword}{auto}\ \ \ points\ =\ hammersley\_sequence<T,\ N>(count,\ shift);}
\DoxyCodeLine{\ \ \mbox{\hyperlink{namespaceps_a7addf1455112b7895f8de7c475eed850}{rescale\_points}}(points,\ axis\_ranges);}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ points;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\}\ \textcolor{comment}{//\ namespace\ ps}}

\end{DoxyCodeInclude}
 